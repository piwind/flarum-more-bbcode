{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@litalino/flarum-more-bbcode/webpack/bootstrap","webpack://@litalino/flarum-more-bbcode/webpack/runtime/compat get default export","webpack://@litalino/flarum-more-bbcode/webpack/runtime/define property getters","webpack://@litalino/flarum-more-bbcode/webpack/runtime/hasOwnProperty shorthand","webpack://@litalino/flarum-more-bbcode/external root \"flarum.core.compat['admin/app']\"","webpack://@litalino/flarum-more-bbcode/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@litalino/flarum-more-bbcode/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@litalino/flarum-more-bbcode/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@litalino/flarum-more-bbcode/external root \"flarum.core.compat['common/components/Button']\"","webpack://@litalino/flarum-more-bbcode/external root \"flarum.core.compat['common/components/Checkbox']\"","webpack://@litalino/flarum-more-bbcode/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@litalino/flarum-more-bbcode/./src/admin/adminPage.tsx","webpack://@litalino/flarum-more-bbcode/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@litalino/flarum-more-bbcode/./src/admin/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Checkbox'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","import ExtensionPage from \"flarum/admin/components/ExtensionPage\";\r\nimport app from 'flarum/admin/app';\r\nimport Button from \"flarum/common/components/Button\";\r\nimport LoadingIndicator from \"flarum/common/components/LoadingIndicator\";\r\nimport Checkbox from \"flarum/common/components/Checkbox\";\r\nimport Stream from 'flarum/common/utils/Stream';\r\nimport Alert from \"flarum/common/components/Alert\";\r\nconst FUNCTIONS = new Set([\"cloud\", \"detail\", \"tabs\", \"size\", \"color\", \"audio\", \"download\", \"clip\", \"gdoc\", \"litedown\", \"table\", \"spoiler\", \"bold\", \"italic\", \"underline\", \"strike_through\", \"url\", \"image\", \"imagebb\", \"email\", \"code\", \"quote\", \"list-ul\", \"list-ol\", \"color\", \"size\", \"align-left\", \"align-right\", \"align-center\", \"align\", \"align-center\", \"align-left\", \"align-right\", \"justify\", \"background\", \"subscript\", \"superscript\", \"strike-through\", \"underline\", \"horizontal-line\", \"acronym\", \"iframe\", \"padding-left\", \"padding-right\", \"image-right\", \"image-center\", \"image-right\", \"dropcap\", \"indent\", \"progress\", \"alert\", \"reply\", \"login\", \"login\", \"like\"]);\r\n\r\nfunction _trans(key: string, params?: any): string {\r\n    const dat = app.translator.trans(\"xypp-more-bbcode.admin.\" + key, params);\r\n    if (Array.isArray(dat)) return dat.join(\"\");\r\n    return dat;\r\n}\r\n\r\nexport default class adminPage extends ExtensionPage {\r\n    disables: Record<string, boolean> = {};\r\n    cloud: { name: string, image: string, content: string, key: string }[] = [];\r\n    setting_disables: Stream;\r\n    setting_cloud: Stream;\r\n    saving: boolean = false;\r\n    oninit(vnode: any): void {\r\n        super.oninit(vnode);\r\n        this.setting_disables = this.setting(\"xypp-more-bbcode.disable\");\r\n        this.setting_cloud = this.setting(\"xypp-more-bbcode.cloud\");\r\n        this.disables = JSON.parse(this.setting_disables() || \"{}\");\r\n        const cloudTmp = JSON.parse(this.setting_cloud());\r\n        Object.keys(cloudTmp).forEach(key => {\r\n            this.cloud.push({\r\n                ...cloudTmp[key], key\r\n            });\r\n        });\r\n    }\r\n    oncreate(vnode: any): void {\r\n        super.oncreate(vnode);\r\n    }\r\n    content(vnode: any) {\r\n        return <div className=\"xypp-more-bbcode-adminPage-container container\">\r\n            <Alert dismissible={false} type=\"warning\">\r\n                {_trans(\"settings.tip\")}\r\n            </Alert>\r\n            <Alert dismissible={false} type=\"info\">\r\n                {_trans(\"settings.tip2\")}\r\n            </Alert>\r\n            <h2>{_trans(\"settings.misc.title\")}</h2>\r\n            {\r\n                this.buildSettingComponent({\r\n                    setting: 'xypp-more-bbcode.remove-markdown',\r\n                    label: _trans(\"settings.misc.remove-markdown.title\"),\r\n                    type: 'select',\r\n                    options: {\r\n                        none: _trans(\"settings.misc.remove-markdown.none\"),\r\n                        phone: _trans(\"settings.misc.remove-markdown.phone\"),\r\n                        tablet: _trans(\"settings.misc.remove-markdown.tablet\"),\r\n                        all: _trans(\"settings.misc.remove-markdown.all\")\r\n                    }\r\n                })\r\n            }\r\n            {\r\n                this.buildSettingComponent({\r\n                    setting: 'xypp-more-bbcode.collect-all',\r\n                    label: _trans(\"settings.misc.collect-all.title\"),\r\n                    type: 'select',\r\n                    options: {\r\n                        none: _trans(\"settings.misc.collect-all.none\"),\r\n                        phone: _trans(\"settings.misc.collect-all.phone\"),\r\n                        tablet: _trans(\"settings.misc.collect-all.tablet\"),\r\n                        all: _trans(\"settings.misc.collect-all.all\")\r\n                    }\r\n                })\r\n            }\r\n            {\r\n                this.buildSettingComponent({\r\n                    setting: 'xypp-more-bbcode.collect-markdown',\r\n                    label: _trans(\"settings.misc.collect-markdown.title\"),\r\n                    type: 'select',\r\n                    options: {\r\n                        none: _trans(\"settings.misc.collect-markdown.none\"),\r\n                        first: _trans(\"settings.misc.collect-markdown.first\"),\r\n                        sub: _trans(\"settings.misc.collect-markdown.sub\")\r\n                    }\r\n                })\r\n            }\r\n            {\r\n                this.buildSettingComponent({\r\n                    setting: 'xypp-more-bbcode.pref-markdown',\r\n                    label: _trans(\"settings.misc.pref-markdown.title\"),\r\n                    type: 'select',\r\n                    options: {\r\n                        none: _trans(\"settings.misc.pref-markdown.none\"),\r\n                        collected: _trans(\"settings.misc.pref-markdown.collected\"),\r\n                        all: _trans(\"settings.misc.pref-markdown.all\")\r\n                    }\r\n                })\r\n            }\r\n            <h2>{_trans(\"settings.functions.title\")}</h2>\r\n            <div className=\"xypp-more-bbcode-function\">\r\n                {this.getFunctionCheckboxes()}\r\n            </div>\r\n            <h2>{_trans(\"settings.cloud.title\")}</h2>\r\n            <table className=\"Table Table--full\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>{_trans('settings.cloud.key')}</th>\r\n                        <th>{_trans('settings.cloud.name')}</th>\r\n                        <th>{_trans('settings.cloud.image')}</th>\r\n                        <th>{_trans('settings.cloud.content')}</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.cloud.map((item, index) => {\r\n                        return <tr key={index}>\r\n                            <td><input className=\"FormControl\" type=\"text\" value={item.key} onchange={((e: InputEvent) => {\r\n                                this.cloud[index].key = (e.target as HTMLInputElement).value;\r\n                            }).bind(this)} /></td>\r\n                            <td><input className=\"FormControl\" type=\"text\" value={item.name} onchange={((e: InputEvent) => {\r\n                                this.cloud[index].name = (e.target as HTMLInputElement).value;\r\n                            }).bind(this)} /></td>\r\n                            <td><input className=\"FormControl\" type=\"text\" value={item.image} onchange={((e: InputEvent) => {\r\n                                this.cloud[index].image = (e.target as HTMLInputElement).value;\r\n                            }).bind(this)} /></td>\r\n                            <td><input className=\"FormControl\" type=\"text\" value={item.content} onchange={((e: InputEvent) => {\r\n                                this.cloud[index].content = (e.target as HTMLInputElement).value;\r\n                            }).bind(this)} /></td>\r\n                            <td>\r\n                                <Button onclick={(() => {\r\n                                    if (!confirm(_trans(\"settings.cloud.confirm\")))\r\n                                        this.cloud.splice(index, 1);\r\n                                    m.redraw();\r\n                                }).bind(this)}>\r\n                                    <i className=\"fas fa-trash\"></i>\r\n                                </Button>\r\n                            </td>\r\n                        </tr>\r\n                    })}\r\n                    <tr><td><Button className=\"Button Button--secondary\" onclick={this.addRow.bind(this)}>{_trans(\"settings.cloud.add\")}</Button></td></tr>\r\n                </tbody>\r\n            </table>\r\n            <Button className=\"Button Button--primary\" onclick={this.save.bind(this)} disabled={this.saving} loading={this.saving}>{_trans(\"settings.save\")}</Button>\r\n        </div>\r\n    }\r\n    getFunctionCheckboxes() {\r\n        const ret: Checkbox[] = []\r\n        FUNCTIONS.forEach(func => {\r\n            ret.push(Checkbox.component({\r\n                onchange: this.changeStateCbMaker(func),\r\n                state: !(this.disables[func]),\r\n            }, func));\r\n        })\r\n        return ret;\r\n    }\r\n    changeStateCbMaker(func: string) {\r\n        return ((e: boolean) => {\r\n            if (!e) this.disables[func] = true;\r\n            else if (this.disables[func]) delete this.disables[func];\r\n        }).bind(this);\r\n    }\r\n    addRow() {\r\n        this.cloud.push({\r\n            name: \"\", image: \"\", key: \"new\", content: \"\"\r\n        })\r\n    }\r\n    save(e: any) {\r\n        this.saving = true;\r\n        m.redraw();\r\n        const tmpCloud: Record<string, any> = {};\r\n        this.cloud.forEach(item => {\r\n            tmpCloud[item.key] = {\r\n                name: item.name,\r\n                image: item.image,\r\n                content: item.content\r\n            }\r\n        });\r\n        this.setting_cloud(JSON.stringify(tmpCloud));\r\n        this.setting_disables(JSON.stringify(this.disables));\r\n        this.saveSettings(e).then(() => {\r\n            this.saving = false;\r\n            m.redraw();\r\n        });\r\n    }\r\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import app from 'flarum/admin/app';\nimport adminPage from './adminPage';\n\napp.initializers.add('xypp/flarum-more-bbcode', () => {\n  app.extensionData\n    .for('xypp-more-bbcode')\n    .registerPage(adminPage)\n    .registerPermission(\n      {\n        icon: 'fas fa-eye-slash',\n        label: app.translator.trans('xypp-more-bbcode.admin.permissions.bypass_reply_label'),\n        permission: 'post.bypassReplyRequirement',\n      },\n      \"view\"\n    )\n    .registerPermission(\n      {\n        icon: \"fas fa-eye-slash\",\n        label: app.translator.trans(\"xypp-more-bbcode.admin.permissions.bypass_like_label\"),\n        permission: \"post.bypassLikeRequirement\",\n      },\n      \"view\"\n    );\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_extends","assign","bind","target","i","arguments","length","source","apply","this","_setPrototypeOf","p","setPrototypeOf","__proto__","FUNCTIONS","Set","_trans","params","dat","app","trans","Array","isArray","join","adminPage","_ExtensionPage","subClass","superClass","_this","_len","args","_key","concat","disables","cloud","setting_disables","setting_cloud","saving","create","constructor","_proto","oninit","vnode","_this2","setting","JSON","parse","cloudTmp","keys","forEach","push","oncreate","content","_this3","m","className","Alert","dismissible","type","buildSettingComponent","label","options","none","phone","tablet","all","first","sub","collected","getFunctionCheckboxes","map","item","index","value","onchange","e","name","image","Button","onclick","confirm","splice","redraw","addRow","save","disabled","loading","_this4","ret","func","Checkbox","changeStateCbMaker","state","_this5","_this6","tmpCloud","stringify","saveSettings","then","ExtensionPage","add","registerPage","registerPermission","icon","permission"],"sourceRoot":""}